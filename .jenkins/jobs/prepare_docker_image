pipeline {
    agent any
    environment {
        FLOW_TO_EXECUTE = "${params.FLOW_TO_EXECUTE}"
        DEPLOY_ENVIRONMENT = "${params.DEPLOY_ENVIRONMENT}"
        BUILD_ID = "${currentBuild.number}"
    }
    stages {
        stage('Create Docker Image') {
            steps {
                sh '''
                    # Your Docker image creation command here
                    ./llmops/common/scripts/gen_docker_image.sh \\
                        --flow_to_execute env.FLOW_TO_EXECUTE} \\
                        --deploy_environment env.DEPLOY_ENVIRONMENT \\
                        --build_id env.BUILD_ID
                '''
            }
        }
    }
}
