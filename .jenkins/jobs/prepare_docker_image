pipeline {
    agent any
    environment {
        FLOW_TO_EXECUTE = "${params.FLOW_TO_EXECUTE}"
        DEPLOY_ENVIRONMENT = "${params.DEPLOY_ENVIRONMENT}"
        BUILD_ID = "${currentBuild.number}"
    }
    stages {
        stage('Create Docker Image') {
            steps {
                sh '''
                    # Your Docker image creation command here
                    /bin/bash ./llmops/common/scripts/gen_docker_image.sh \\
                        --flow_to_execute "$FLOW_TO_EXECUTE" \\
                        --deploy_environment "$DEPLOY_ENVIRONMENT" \\
                        --build_id "$BUILD_ID"
                '''
            }
        }
    }
}
